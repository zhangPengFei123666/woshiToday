# 分布式任务跑批系统配置文件

server:
  mode: debug  # debug/release/test
  port: 8080
  name: distributed-scheduler

# MySQL配置
#mysql:
#  host: 127.0.0.1
#  port: 3306
#  username: root
#  password: 123456root
#  database: distributed_scheduler
#  charset: utf8mb4
#  max_idle_conns: 10
#  max_open_conns: 100
#  log_mode: true
mysql:
  host: 10.12.3.79
  port: 3306
  username: root
  password: mysql_MpR4hs
  database: distributed_scheduler
  charset: utf8mb4
  max_idle_conns: 10
  max_open_conns: 100
  log_mode: true

# Redis配置
redis:
  host: 127.0.0.1
  port: 6379
  password: ""
  db: 0
  pool_size: 100

# JWT配置
jwt:
  secret: distributed-scheduler-secret-key-2024
  expire: 86400  # 过期时间(秒) 24小时
  issuer: distributed-scheduler

# 日志配置
log:
  level: debug  # debug/info/warn/error
  format: console  # console/json
  output: stdout  # stdout/file
  file_path: ./logs/app.log
  max_size: 100  # MB
  max_backups: 10
  max_age: 30  # days
  compress: true

# 调度器配置
scheduler:
  enable: true
  # 时间轮配置
  time_wheel:
    slot_num: 3600      # 槽位数量
    interval: 1000      # 时间间隔(毫秒)
  # 触发器线程池
  trigger_pool_size: 200
  # 预读取时间(秒)
  pre_read_time: 5

# 执行器配置
executor:
  enable: true
  app_name: default-executor
  host: 127.0.0.1
  port: 9090
  # 心跳间隔(秒)
  heartbeat_interval: 30
  # 最大并发任务数
  max_concurrent: 100
  # 日志批量提交大小
  log_batch_size: 100
  # 日志提交间隔(毫秒)
  log_flush_interval: 1000

